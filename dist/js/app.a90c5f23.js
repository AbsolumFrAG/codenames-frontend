(function(e){function t(t){for(var a,o,i=t[0],l=t[1],c=t[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,i=1;i<n.length;i++){var l=n[i];0!==s[l]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},s={app:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("08a0")},"04f5":function(e,t,n){"use strict";n("f957")},"08a0":function(e,t,n){},"14bc":function(e,t,n){},"24de":function(e,t,n){"use strict";n("14bc")},2618:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade",mode:"out-in"}},[null==e.room.code?n("Lobby",{on:{"create-room":e.createRoom,"join-room":e.joinRoom}}):n("Game",{attrs:{room:e.room,name:e.name},on:{"leave-room":e.leaveRoom}})],1)},r=[],o=(n("b0c0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"\n    flex\n    justify-center\n    items-start\n    sm:items-center\n    h-screen\n    w-screen\n    p-4\n  "},[n("div",{staticClass:"px-8 py-6 rounded-lg bg-main-100 w-full sm:max-w-2xl mb-4"},[n("div",{staticClass:"flex flex-row justify-between items-center mb-4"},[n("h1",{staticClass:"text-4xl sm:text-5xl font-header w-full text-white"},[n("img",{staticClass:"w-10 h-10 mr-2 inline-block",attrs:{src:e.publicPath+"logo.png"}}),e._v(" CodeNames ")])]),n("p",{staticClass:"text-gray-200"},[e._v(" Un jeu multijoueur où vous découvrez des noms d'agents énigmatiques dans deux équipes. La coopération est la clé du succès. ")]),n("div",{staticClass:"\n        flex flex-nowrap\n        items-center\n        rounded-lg\n        bg-main-200\n        mx-0\n        sm:mx-16\n        mt-6\n        my-2\n        pr-1\n      "},[n("span",{staticClass:"text-white bg-main-300 p-4 py-3 rounded-l-lg"},[e._v("Nom :")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],ref:"nameField",staticClass:"\n          border-0\n          py-2\n          px-3\n          text-white\n          w-full\n          focus:outline-none\n          bg-transparent\n        ",attrs:{type:"text",maxlength:"16",minlength:"2",placeholder:"Votre pseudo"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),n("button",{staticClass:"\n          focus:outline-none\n          rounded-lg\n          bg-main-300\n          hover:bg-main-100\n          text-white text-xl\n          w-14\n          h-10\n          flex\n          items-center\n          justify-center\n          mr-0.5\n        ",attrs:{title:"Nom aléatoire"},on:{click:function(t){return e.randomName()}}},[n("i",{staticClass:"fas fa-dice-three"})])]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.nameError,expression:"nameError"}],staticClass:"text-sm text-warning-400 px-0 sm:px-16"},[e._v("Votre nom ne peut pas être vide")]),n("div",{staticClass:"flex w-full justify-between flex-col sm:flex-row text-white mt-6"},[n("div",{staticClass:"w-full sm:w-1/2 sm:pr-4 border-main-300 sm:border-r"},[n("h2",{staticClass:"text-lg font-bold my-1"},[e._v("Créer une nouvelle salle")]),n("p",{staticClass:"text-sm text-gray-200 pb-2"},[e._v(" Démarrez une nouvelle partie et donnez le code de chambre unique à vos amis pour jouer ensemble. ")]),n("button",{staticClass:"\n            focus:outline-none\n            rounded-lg\n            bg-team-red\n            hover:bg-team-hover-red\n            text-white text-lg\n            h-12\n            w-full\n            px-4\n            pr-6\n            flex\n            items-center\n            justify-center\n            mt-2\n            my-4\n          ",attrs:{title:"Nom aléatoire"},on:{click:function(t){return e.createRoom()}}},[n("i",{staticClass:"fas fa-plus mr-4"}),e._v(" Nouvelle partie ")])]),n("div",{staticClass:"w-full sm:w-1/2 sm:pl-4"},[n("h2",{staticClass:"text-lg font-bold my-1"},[e._v("Rejoindre une salle existante")]),n("p",{staticClass:"text-sm text-gray-200 pb-2"},[e._v(" Si vous avez reçu un code de chambre de quelqu'un, entrez-le dans le champ ci-dessous pour rejoindre le jeu. ")]),n("div",{staticClass:"\n            flex flex-nowrap\n            items-center\n            rounded-lg\n            bg-main-200\n            my-2\n            pr-1\n          "},[e._m(0),n("input",{directives:[{name:"model",rawName:"v-model",value:e.roomCode,expression:"roomCode"}],ref:"nameField",staticClass:"\n              border-0\n              py-2\n              px-3\n              text-white\n              w-full\n              focus:outline-none\n              bg-transparent\n            ",attrs:{type:"text",maxlength:"8",minlength:"8",placeholder:"########"},domProps:{value:e.roomCode},on:{input:function(t){t.target.composing||(e.roomCode=t.target.value)}}}),n("button",{staticClass:"\n              focus:outline-none\n              rounded-lg\n              bg-team-blue\n              hover:bg-team-hover-blue\n              text-white text-lg\n              px-4\n              h-10\n              flex\n              items-center\n              justify-center\n              mr-0.5\n            ",attrs:{title:"Nom aléatoire"},on:{click:function(t){return e.joinRoom()}}},[n("i",{staticClass:"fas fa-arrow-right mr-3"}),e._v(" Rejoindre ")])]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.roomCodeError,expression:"roomCodeError"}],staticClass:"text-sm text-warning-400 leading-2"},[e._v("La salle est incorrecte")])])])])])}),i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"text-white bg-main-300 p-4 py-3 rounded-l-lg"},[n("i",{staticClass:"fas fa-hashtag"})])}],l=(n("fb6a"),{name:"Lobby",data:function(){return{publicPath:"/",name:"",nameError:!1,roomCode:"",roomCodeError:!1,nameList:["acre","acne","addendum","aircraft","aisle","america","ankle","apathy","applause","arm","armada","asleep","athlete","atlantis","aunt","avocado","backbone","bag","baguette","bald","balloon","banana","banister","baseball","bat","battery","beach","bedbug","beer","belt","bib","bicycle","big","bike","bird","birthday","bite","blanket","bleach","blimp","blossom","blunt","blur","boa","boat","bob","bobsled","body","bomb","bonnet","book","booth","bowtie","box","boy","brand","brave","bride","bridge","broccoli","broken","broom","bruise","brunette","bubble","buddy","buffalo","bulb","bunny","bus","buy","cabin","cake","campsite","can","canada","candle","candy","cape","car","cat","cd","ceiling","cell","century","chair","chalk","champion","charger","chef","chess","chew","chicken","chime","china","church","circus","clay","cliff","cloak","clown","clue","coach","coal","coaster","cog","cold","college","comfort","computer","cone","cook","coop","cord","corduroy","cot","cough","cow","cowboy","crayon","cream","crisp","crow","cruise","crumb","crust","cuff","curtain","cuticle","czar","dad","dart","dawn","day","deep","defect","dent","dentist","desk","dimple","dirty","ditch","diver","doctor","dog","doghouse","doll","dominoes","door","dot","drain","draw","dream","dress","drink","drip","drums","dryer","duck","dump","dunk","dust","ear","eat","ebony","elbow","elephant","elevator","elf","elm","engine","england","eureka","europe","eyebrow","fan","fancy","fast","feast","fence","fiddle","figment","finger","fire","first","fishing","fix","fizz","flagpole","flannel","flock","flotsam","flower","flu","flush","flutter","fog","foil","football","forehead","forever","france","freckle","freight","fringe","frog","frown","gallop","game","garbage","garden","gasoline","gem","ginger","girl","glasses","goblin","gold","goodbye","grandpa","grape","grass","gray","green","guitar","gum","gumball","hair","half","handle","hang","happy","hat","hatch","headache","heart","hedge","hem","hide","hill","hockey","homework","honk","horse","hose","hot","house","hug","hungry","hurdle","hurt","hut","ice","implode","inn","intern","internet","ironic","ivory","ivy","jade","japan","jeans","jelly","jet","jig","jog","journal","jump","key","killer","kilogram","king","kitchen","kite","knee","kneel","knife","knight","koala","lace","ladder","ladybug","lag","landfill","lap","laugh","laundry","law","lawn","leak","leg","letter","level","ligament","light","lime","lion","lizard","log","loiterer","lollipop","loveseat","loyalty","lunch","lunchbox","lyrics","machine","macho","mailbox","mammoth","mark","mars","mascot","mast","mate","mattress","mess","mexico","mine","mistake","modern","mold","mom","monday","money","monitor","monster","mooch","moon","mop","moth","mountain","mouse","mower","mud","music","mute","nature","neighbor","nest","neutron","niece","night","nose","oar","office","oil","old","olympian","opaque","opener","orbit","organ","organize","outer","outside","ovation","overture","pail","paint","pajamas","palace","pants","paper","paper","park","parody","party","password","pastry","pawn","pear","pen","pencil","pendulum","penis","penny","pepper","personal","phone","piano","picnic","pigpen","pillow","pilot","pinch","ping","pinwheel","pirate","plaid","plan","plank","plate","platypus","plow","plumber","pocket","poem","point","pole","pomp","pong","pool","popsicle","positive","post","princess","punk","puppet","puppy","push","puzzle","queen","quiet","race","radio","raft","rag","rainbow","random","ray","recycle","red","regret","rib","riddle","rim","rink","roller","room","rose","round","rung","runt","rut","sad","safe","salmon","salt","sandbox","sandwich","sash","scar","scared","school","scramble","scuff","seashell","season","sentence","sequins","set","shaft","shallow","shampoo","shark","sheep","sheets","sheriff","shirt","shoelace","short","shower","shrink","sick","siesta","singer","sip","skate","skating","ski","slam","sleep","sling","slow","slump","smith","sneeze","snow","snuggle","song","space","spare","speakers","spider","spit","sponge","spool","spoon","spring","spy","square","squint","stairs","standing","star","state","stick","stout","stove","stowaway","straw","stream","stripe","student","sun","sunburn","sushi","swamp","swarm","sweater","swimming","swing","talk","taxi","teacher","teapot","teenager","ten","tennis","thief","think","throne","through","thunder","tide","tiger","time","tinting","tiptoe","tiptop","tired","tissue","toast","toilet","tool","tornado","tractor","train","trash","treasure","tree","triangle","trip","truck","tub","tuba","tutor","twang","twig","type","upgrade","vest","vision","wag","water","wax","wedding","weed","welder","whatever","whiplash","whisk","whistle","white","wig","will","windmill","winter","wish","wolf","wool","world","worm","zamboni","zen","zero","zipper","zone","zoo"]}},mounted:function(){localStorage.name&&(this.name=localStorage.name)},watch:{name:function(e){this.nameError=!1,localStorage.name=e},roomCode:function(e){this.roomCodeError=!1}},methods:{randomName:function(){var e=this.nameList[Math.floor(Math.random()*this.nameList.length)];this.name="Agent "+e[0].toUpperCase()+e.slice(1),localStorage.name=this.name},validateName:function(){return this.nameError=0==this.name.length},validateRoomCode:function(){return this.roomCodeError=8!=this.roomCode.length},scrollToTop:function(){window.scrollTo({top:0,left:0,behavior:"smooth"})},joinRoom:function(){this.validateRoomCode(),this.validateName()||this.validateRoomCode()||(this.$emit("join-room",{name:this.name,roomCode:this.roomCode}),this.scrollToTop())},createRoom:function(){this.roomCodeError=!1,this.validateName()||(this.$emit("create-room",{name:this.name}),this.scrollToTop())}},emits:["join-room","create-room"]}),c=l,u=n("2877"),d=Object(u["a"])(c,o,i,!1,null,null,null),p=d.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"xl:flex"},[n("div",{class:["xl:w-1/4 xl:flex-shrink-0",e.tabHidden,e.tabPlayersLogic]},[n("Players",{attrs:{room:e.room,player:e.player,showPlayersBadge:e.playersBadge,isPlayersOpen:e.playersOpen},on:{"set-players-badge":e.setPlayersBadge,"toggle-players-tab":function(t){return e.openPlayersTab()}}})],1),n("div",{class:["xl:flex-grow xl:px-6 sm:px-20"]},[n("Header",{attrs:{room:e.room,player:e.player,cardsRed:e.cardCountDisplay("red"),cardsBlue:e.cardCountDisplay("blue")},on:{"leave-room":e.leaveRoom}}),n("Mobile-buttons",{attrs:{showPlayersBadge:e.playersBadge,showChatBadge:e.chatBadge,isPlayersOpen:e.playersOpen,isChatOpen:e.chatOpen},on:{"set-players-badge":e.setPlayersBadge,"set-chat-badge":e.setChatBadge,"toggle-players-tab":function(t){return e.openPlayersTab()},"toggle-chat-tab":function(t){return e.openChatTab()}}}),n("Game-board",{attrs:{board:e.board,player:e.player,gameover:e.room.gameover,loading:e.room.loading},on:{"card-flipped":e.cardFlipped}}),n("Footer")],1),n("div",{class:["xl:w-1/4 xl:flex-shrink-0",e.tabHidden,e.tabChatLogic]},[n("Chat",{attrs:{room:e.room,player:e.player,showChatBadge:e.chatBadge,isChatOpen:e.chatOpen},on:{"set-chat-badge":e.setChatBadge,"toggle-chat-tab":function(t){return e.openChatTab()}}})],1)]),n("transition",{attrs:{name:"fade"}},[e.playersOpen||e.chatOpen?n("div",{staticClass:"\n        fixed\n        top-0\n        left-0\n        w-screen\n        h-screen\n        z-50\n        bg-main-300 bg-opacity-70\n      ",on:{click:function(t){e.playersOpen=!1,e.chatOpen=!1}}}):e._e()])],1)},h=[],f=(n("4de4"),n("7db0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"p-4 pb-0 sm:p-0"},[n("Popup",{directives:[{name:"show",rawName:"v-show",value:e.invitePopupOpen,expression:"invitePopupOpen"}],attrs:{title:"Invite players"},on:{"close-popup":function(t){return e.invitePopupClose()}}},[n("p",[e._v("Partagez le code ci-dessous pour ")]),n("div",{staticClass:"flex flex-nowrap items-center rounded-lg bg-main-200 my-2 pr-1"},[n("span",{staticClass:"text-white bg-main-300 p-4 py-3 rounded-l-lg"},[n("i",{staticClass:"fas fa-hashtag"})]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.room.code,expression:"room.code"}],ref:"nameField",staticClass:"\n          border-0\n          py-2\n          px-3\n          text-white\n          w-full\n          focus:outline-none\n          bg-transparent\n        ",attrs:{type:"text",readonly:"true",maxlength:"8",minlength:"8"},domProps:{value:e.room.code},on:{input:function(t){t.target.composing||e.$set(e.room,"code",t.target.value)}}}),n("CopyToClipboard",{attrs:{text:e.room.code}},[n("button",{staticClass:"\n            focus:outline-none\n            rounded-lg\n            bg-main-300\n            hover:bg-main-100\n            text-white text-lg\n            px-4\n            h-10\n            flex\n            items-center\n            justify-center\n            mr-0.5\n          ",attrs:{title:"Nom aléatoire"},on:{click:function(t){return e.invitePopupClose()}}},[n("i",{staticClass:"fas fa-clipboard mr-3"}),e._v(" Copier ")])])],1)]),n("div",{staticClass:"w-full px-6 pt-4 pb-10 rounded-lg sm:rounded-t-none bg-main-100"},[n("div",{staticClass:"flex flex-row justify-between items-center mb-2"},[n("h1",{staticClass:"text-4xl sm:text-5xl font-header w-full text-white"},[n("img",{staticClass:"w-10 h-10 mr-2 hidden sm:inline-block",attrs:{src:e.publicPath+"logo.png"}}),e._v(" Code Names ")]),n("div",{staticClass:"relative"},[n("button",{staticClass:"\n            focus:outline-none\n            rounded-lg\n            bg-main-300\n            hover:bg-main-200\n            text-white text-2xl\n            w-12\n            h-12\n            flex\n            items-center\n            justify-center\n          ",on:{click:function(t){e.settingsOpen=!e.settingsOpen}}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[e.settingsOpen?n("i",{key:"closedSettingsIcon",staticClass:"fas fa-times"}):n("i",{key:"openSettingsIcon",staticClass:"fas fa-cog"})])],1),n("transition",{attrs:{name:"slide-fade"}},[e.settingsOpen?n("div",{staticClass:"\n              absolute\n              bg-white\n              overflow-hidden\n              rounded-lg\n              right-0\n              mt-2\n              z-50\n              w-56\n              text-right\n            "},[n("div",{staticClass:"\n                flex\n                items-center\n                py-3\n                px-4\n                cursor-pointer\n                hover:bg-gray-100\n                border-b border-gray-300\n              ",on:{click:function(t){return e.invitePopup()}}},[n("i",{staticClass:"fas mr-4 fa-user-plus"}),n("span",[e._v("Inviter des joueurs")])]),n("div",{staticClass:"\n                flex\n                items-center\n                py-3\n                px-4\n                cursor-pointer\n                hover:bg-gray-100\n                border-b border-gray-300\n              ",on:{click:function(t){return e.newGameBoard()}}},[n("i",{staticClass:"fas mr-4 fa-sync"}),n("span",[e._v("Nouveau tableau")])]),n("div",{staticClass:"\n                flex\n                items-center\n                py-3\n                px-4\n                cursor-pointer\n                hover:bg-gray-100\n              ",on:{click:function(t){return e.leaveRoom()}}},[n("i",{staticClass:"fas mr-4 fa-arrow-right"}),n("span",[e._v("Quitter la salle")])])]):e._e()])],1)]),n("p",{staticClass:"text-gray-200",domProps:{innerHTML:e._s(e.welcomeMessage)}})]),n("div",{staticClass:"w-64 text-white font-header text-lg -mt-10 mx-auto flex p-4"},[n("div",{staticClass:"bg-team-red rounded-l-full w-1/2 py-2 px-4 flex items-center"},[n("i",{staticClass:"fas fa-clone mr-4"}),n("transition",{attrs:{name:e.room.loading?"":"slide-fade",mode:"out-in"}},[n("div",{key:e.cardsRed},[e._v(e._s(e.cardsRed))])])],1),n("div",{staticClass:"\n        bg-team-blue\n        rounded-r-full\n        w-1/2\n        py-2\n        px-4\n        flex\n        items-center\n        justify-end\n      "},[n("transition",{attrs:{name:e.room.loading?"":"slide-fade",mode:"out-in"}},[n("div",{key:e.cardsBlue},[e._v(e._s(e.cardsBlue))])]),n("i",{staticClass:"fas fa-clone ml-4 fa-flip-horizontal"})],1)])],1)}),g=[],b=(n("99af"),n("b384")),y=n.n(b),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"slide-fade"}},[n("div",{staticClass:"\n      bg-main-300 bg-opacity-90\n      fixed\n      top-0\n      left-0\n      h-screen\n      w-screen\n      flex\n      items-center\n      justify-center\n      z-100\n    ",on:{click:function(t){return e.$emit("close-popup")}}},[n("div",{staticClass:"bg-main-100 w-96 p-4 px-5 rounded-lg text-white",on:{click:function(e){e.stopPropagation()}}},[n("h1",{staticClass:"text-xl font-bold"},[e._v(e._s(e.title))]),e._t("default",(function(){return[e._v("Erreur : aucun contenu fourni")]}))],2)])])},x=[],w={name:"Popup",props:{title:{type:String,required:!0}},emits:["close-popup"]},C=w,k=Object(u["a"])(C,v,x,!1,null,null,null),_=k.exports,j={name:"Header",components:{Popup:_,CopyToClipboard:y.a},data:function(){return{publicPath:"/",settingsOpen:!1,invitePopupOpen:!1}},methods:{invitePopup:function(){this.settingsOpen=!1,this.invitePopupOpen=!0},invitePopupClose:function(){this.invitePopupOpen=!1},leaveRoom:function(){this.settingsOpen=!1,this.$emit("leave-room",{name:this.playerName,roomCode:this.room.code})},newGameBoard:function(){var e=this;this.settingsOpen=!1,this.$socket.emit("flipBoard",{roomCode:this.room.code}),setTimeout((function(){e.$socket.emit("emptyBoard",{roomCode:e.room.code}),setTimeout((function(){e.$socket.emit("newGameBoard",{roomCode:e.room.code})}),100)}),800)}},computed:{welcomeMessage:function(){if(!this.player)return"";var e='Bonjour <strong class="text-team-'.concat(this.player.team,'">').concat(this.player.name,"</strong>, vous êtes ");return"spectator"==this.player.team?e+="en train de regarder la partie, rejoignez une équipe pour commencer à jouer 🎮":this.player.spymaster?e+=" un 📣 espion - donne des indices pour aider l'équipe à trouver tous les agents.":e+=" un 🕵️ opérateur - utilise les indices donnés pour trouver les agents.",e}},props:{room:Object,player:Object,cardsRed:String,cardsBlue:String},emits:["leave-room"]},B=j,O=Object(u["a"])(B,f,g,!1,null,null,null),P=O.exports,$=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},T=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"text-gray-400 text-center my-6"},[e._v("Fait avec "),n("span",{staticClass:"text team-red"},[e._v("♥")]),e._v(" par Absolum FrAG")])}],R={name:"Footer"},M=R,E=Object(u["a"])(M,$,T,!1,null,null,null),S=E.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex sm:my-6 w-full min-max-tab h-full sm:h-auto"},[n("div",{staticClass:"bg-main-100 w-full sm:w-80 xl:w-full flex flex-col"},[n("h2",{staticClass:"\n        w-full\n        font-header\n        text-white text-2xl\n        px-6\n        pr-4\n        py-4\n        flex\n        items-center\n        justify-end\n      "},[e._v(" Joueurs ")]),n("div",{staticClass:"px-4 overflow-y-auto flex-grow"},[n("Team-panel",{attrs:{team:"red",header:"Équipe rouge",players:e.playersRed,player:e.player},on:{"join-team":e.joinTeam,"set-spymaster":e.setSpymaster}}),n("Team-panel",{attrs:{team:"blue",header:"Équipe bleue",players:e.playersBlue,player:e.player},on:{"join-team":e.joinTeam,"set-spymaster":e.setSpymaster}}),n("Team-panel",{attrs:{header:"Spectateurs",players:e.playersSpectator,player:e.player},on:{"join-team":e.joinTeam}})],1)]),n("div",{class:["bg-main-300 sm:rounded-r-lg font-header text-white text-2xl p-4 w-16 flex flex-col justify-between",e.clickable],on:{click:function(t){return e.togglePlayersTab()}}},[n("Panel-icon",{attrs:{icon:"fa-user-friends",margin:"mt-1",showBadge:e.showPlayersBadge,isTabOpen:e.isPlayersOpen},on:{"set-badge":e.setPlayersBadge}}),n("i",{staticClass:"fas fa-times w-8 sm:hidden text-center mb-1"})],1)])},q=[],z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["rounded-lg w-full mb-4",e.bgColor]},[n("h2",{staticClass:"\n      w-full\n      font-header\n      text-white text-lg\n      flex\n      justify-between\n      items-center\n      px-4\n      pb-0\n      py-2\n      pr-2\n    "},[n("span",[e._v(e._s(e.header))]),e.player.team!=e.team?n("Team-panel-button",{attrs:{team:e.team,label:"Rejoindre",icon:"fa-plus"},on:{"on-click":function(t){return e.joinTeam(e.team)}}}):e._e()],1),n("div",{staticClass:"px-4 py-2 pl-2 text-white"},[e._l(e.players,(function(t){return n("ul",{key:t.id},[n("li",{staticClass:"flex items-center flex-nowrap py-1 rounded-lg"},[n("span",{staticClass:"w-10 text-center flex-shrink-0 text-xl"},[n("i",{key:t.spymaster?"spymaster":"operative",class:["fas",t.spymaster?"fa-bullhorn":"spectator"!==t.team?"fa-user-secret":"fa-user"]})]),n("span",{staticClass:"truncate"},[e._v(e._s(t.name))])])])})),0===e.players.length?n("p",{staticClass:"text-center text-gray-100 pt-3 pb-2"},[e._v(" "+e._s("spectator"==e.team?"Plus de joueurs peuvent rejoindre à tout moment":"Il n'y a personne ici 😔")+" ")]):e._e()],2),n("div",{staticClass:"flex flex-col mb-4 pb-2 px-2"},["spectator"==e.team||e.player.team!=e.team||e.player.spymaster?e._e():n("Team-panel-button",{attrs:{team:e.team,label:"Devenir espion",icon:"fa-bullhorn"},on:{"on-click":function(t){return e.setSpymaster(!0)}}}),"spectator"!=e.team&&e.player.team==e.team&&e.player.spymaster?n("Team-panel-button",{attrs:{team:e.team,label:"Devenir opérateur",icon:"fa-user-secret"},on:{"on-click":function(t){return e.setSpymaster(!1)}}}):e._e()],1)])},N=[],L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{class:["text-white font-header leading-5 border-0 rounded-lg transition duration-200 focus:outline-none text-base py-2 px-4",e.buttonColor],on:{click:function(t){return e.$emit("on-click")}}},[n("i",{class:["fas mr-2",e.icon||"hidden"]}),e._v(" "+e._s(e.label)+" ")])},A=[],W={name:"TeamPanelButton",computed:{buttonColor:function(){return this.team?["btn-team-"+this.team]:["bg-gray-700 hover:bg-gray-800"]}},props:{label:{type:String,required:!0},team:String,icon:String},emits:["on-click"]},G=W,H=(n("58b1"),Object(u["a"])(G,L,A,!1,null,"760eb8a6",null)),I=H.exports,D={name:"TeamPanel",components:{TeamPanelButton:I},methods:{joinTeam:function(e){this.$emit("join-team",e)},setSpymaster:function(e){this.$emit("set-spymaster",e)}},computed:{bgColor:function(){return"red"==this.team?"bg-team-red":"blue"==this.team?"bg-team-blue":"spectator"==this.team?"bg-team-spectator":void 0}},props:{team:{type:String,default:"spectator"},header:{type:String,required:!0},players:Array,player:Object},emits:["join-team","set-spymaster"]},V=D,J=Object(u["a"])(V,z,N,!1,null,null,null),U=J.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("i",{class:["fas w-8 relative text-white text-2xl",e.icon,e.margin]},[n("transition",{attrs:{name:"fade"}},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.showBadge,expression:"showBadge"}],staticClass:"\n        flex\n        h-4\n        w-4\n        absolute\n        justify-center\n        items-center\n        bottom-0\n        -right-1\n        xl:hidden\n      "},[n("span",{staticClass:"\n          absolute\n          inline-flex\n          h-full\n          w-full\n          rounded-full\n          bg-red-600\n          opacity-50\n        ",class:[e.badgeAnimation?"animate-ping":"hidden"]}),n("span",{staticClass:"relative inline-flex rounded-full h-2.5 w-2.5 bg-red-600"})])])],1)},Q=[],K={name:"PanelIcon",data:function(){return{badgeAnimation:!1}},sockets:{playersChange:function(){var e=this;"fa-user-friends"!=this.icon||this.isTabOpen||(this.$emit("set-badge",!0),this.badgeAnimation=!0,setTimeout((function(){e.badgeAnimation=!1}),1e3))},chatMessage:function(){var e=this;"fa-comment-alt"!=this.icon||this.isTabOpen||(this.$emit("set-badge",!0),this.badgeAnimation=!0,setTimeout((function(){e.badgeAnimation=!1}),1e3))}},props:{icon:{type:String,required:!0},margin:{type:String,default:""},showBadge:{type:Boolean,default:!1},isTabOpen:{type:Boolean,default:!1}},emits:["set-badge"]},X=K,Z=Object(u["a"])(X,Y,Q,!1,null,null,null),ee=Z.exports,te={name:"Players",components:{TeamPanel:U,PanelIcon:ee},methods:{playersFilter:function(e){return this.room?this.room.players.filter((function(t){return t.team==e})):[]},joinTeam:function(e){this.$socket.emit("joinTeam",{roomCode:this.room.code,player:this.player,team:e})},setSpymaster:function(e){this.$socket.emit("setSpymaster",{roomCode:this.room.code,player:this.player,spymaster:e})},togglePlayersTab:function(){this.$emit("toggle-players-tab")},setPlayersBadge:function(e){this.$emit("set-players-badge",e)}},computed:{playersRed:function(){return this.playersFilter("red")},playersBlue:function(){return this.playersFilter("blue")},playersSpectator:function(){return this.playersFilter("spectator")},clickable:function(){return this.$vssWidth<1280?"cursor-pointer":""}},props:{room:{type:Object,required:!0},player:{type:Object,required:!0},showPlayersBadge:{type:Boolean,required:!0},isPlayersOpen:{type:Boolean,required:!0}},emits:["toggle-players-tab","set-players-badge"]},ne=te,ae=Object(u["a"])(ne,F,q,!1,null,null,null),se=ae.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex justify-between sm:hidden pb-2"},[n("div",{class:[e.buttonStyle,"rounded-r-lg mr-2 pl-8"],on:{click:function(t){return e.togglePlayersTab()}}},[e._v(" Joueurs "),n("Panel-icon",{attrs:{icon:"fa-user-friends",margin:"ml-3 mt-1",showBadge:e.showPlayersBadge,isTabOpen:e.isPlayersOpen},on:{"set-badge":e.setPlayersBadge}})],1),n("div",{class:[e.buttonStyle,"rounded-l-lg ml-2 pr-8"],on:{click:function(t){return e.toggleChatTab()}}},[n("Panel-icon",{attrs:{icon:"fa-comment-alt",margin:"mr-2 mt-1",showBadge:e.showChatBadge,isTabOpen:e.isChatOpen},on:{"set-badge":e.setChatBadge}}),e._v(" Chat ")],1)])},oe=[],ie={name:"MobileButtons",components:{PanelIcon:ee},methods:{toggleChatTab:function(){this.$emit("toggle-chat-tab")},togglePlayersTab:function(){this.$emit("toggle-players-tab")},setChatBadge:function(e){this.$emit("set-chat-badge",e)},setPlayersBadge:function(e){this.$emit("set-players-badge",e)}},computed:{buttonStyle:function(){return"bg-main-300 text-white text-2xl font-header cursor-pointer p-3 px-6"}},props:{showPlayersBadge:{type:Boolean,required:!0},showChatBadge:{type:Boolean,required:!0},isPlayersOpen:{type:Boolean,required:!1},isChatOpen:{type:Boolean,required:!1}},emits:["toggle-players-tab","toggle-chat-tab","set-players-badge","set-chat-badge"]},le=ie,ce=Object(u["a"])(le,re,oe,!1,null,null,null),ue=ce.exports,de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bg-main-300 relative p-2 sm:p-0 sm:rounded-lg w-full mt-2",staticStyle:{"min-height":"33rem"}},[n("div",{attrs:{id:"gameBoard"}},[n("sequential-entrance",{attrs:{delay:"100",tag:"div"}},e._l(e.board,(function(t){return n("Game-card",{key:t.id,attrs:{card:t,isRevealed:e.isRevealed,canBeFlipped:e.canBeFlipped},on:{"card-flipped":function(n){var a=arguments.length,s=Array(a);while(a--)s[a]=arguments[a];return e.cardFlipped.apply(void 0,[t].concat(s))}}})})),1)],1),n("transition",{attrs:{name:"fade"}},[e.loading?n("div",{staticClass:"\n        absolute\n        rounded-lg\n        top-0\n        bg-black bg-opacity-50\n        w-full\n        h-full\n        text-white\n        flex flex-col\n        justify-center\n        items-center\n      "},[n("i",{staticClass:"fas fa-spinner fa-spin fa-lg text-4xl"}),n("div",{staticClass:"mt-4"},[e._v("New cards incoming..")])]):e._e()])],1)},pe=[],me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"scene",on:{click:e.cardFlipped}},[n("div",{class:["card",e.card.flipped?"rotateY":""]},[n("div",{class:["card__face",e.notFlippedColor]},[n("div",[e._v(e._s(e.card.word))])]),n("div",{class:["card__face rotateY",e.flippedColor]},[n("div",[e._v(e._s(e.card.word))])])])])},he=[],fe={name:"GameCard",methods:{cardFlipped:function(e){this.$emit("card-flipped",e)}},computed:{notFlippedColor:function(){if(this.isRevealed){if("red"===this.card.type)return["border-team-red bg-red-200 text-gray-800 border-4"];if("blue"==this.card.type)return["border-team-blue bg-blue-200 text-gray-800 border-4"];if("neutral"==this.card.type)return["border-amber-300 bg-amber-100 text-gray-800 border-4"];if("bomb"==this.card.type)return["border-gray-800 bg-gray-400 text-gray-800 border-4"]}return["bg-main-100 border-main-100 border-4 text-white transform",this.canBeFlipped?"cursor-pointer hover:bg-main-200 hover:border-main-200 hover:scale-105":""]},flippedColor:function(){return"red"===this.card.type?["bg-team-red text-white border-team-red border-4"]:"blue"==this.card.type?["bg-team-blue text-white border-team-blue border-4"]:"neutral"==this.card.type?["bg-amber-400 text-white border-amber-400 border-4"]:"bomb"==this.card.type?["bg-gray-800 text-white border-gray-800 border-4"]:void 0}},props:{card:{type:Object,required:!0},canBeFlipped:{type:Boolean,default:!1},isRevealed:{type:Boolean,default:!1}},emits:["card-flipped"]},ge=fe,be=(n("04f5"),Object(u["a"])(ge,me,he,!1,null,"0dfd95fd",null)),ye=be.exports,ve={name:"GameBoard",components:{GameCard:ye},computed:{isRevealed:function(){var e;return!this.loading&&(this.gameover||null!==(e=this.player.spymaster)&&void 0!==e&&e)},canBeFlipped:function(){return!this.gameover&&!this.player.spymaster&&"spectator"!==this.player.team}},methods:{cardFlipped:function(e,t){if(this.canBeFlipped&&!e.flipped){this.$emit("card-flipped",e);var n={red:["#DB2777","#BE185D"],blue:["#6366F1","#4F46E5"],neutral:["#FBBF24","#fccd58"],bomb:["#000000","#101010","#393939"]},a=t.target.getBoundingClientRect(),s=(a.left+a.right)/2/this.$vssWidth,r=(a.top+a.bottom)/2/this.$vssHeight;window.confetti({zIndex:10,particleCount:20,startVelocity:16,ticks:60,spread:360,colors:n[e.type],origin:{x:s,y:r}})}}},props:{board:{type:Array,required:!0},player:{type:Object,required:!0},gameover:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["card-flipped"]},xe=ve,we=(n("74af"),Object(u["a"])(xe,de,pe,!1,null,null,null)),Ce=we.exports,ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex sm:my-6 w-full min-max-tab h-full sm:h-auto"},[n("div",{class:["bg-main-300 sm:rounded-l-lg font-header text-white text-2xl p-4 w-16 flex flex-col justify-between",e.clickable],on:{click:function(t){return e.toggleChatTab()}}},[n("Panel-icon",{attrs:{icon:"fa-comment-alt",margin:"ml-1 mt-1",showBadge:e.showChatBadge,isTabOpen:e.isChatOpen},on:{"set-badge":e.setChatBadge}}),n("i",{staticClass:"fas fa-times w-8 sm:hidden text-center mb-1"})],1),n("div",{staticClass:"bg-main-100 w-full sm:w-80 xl:w-full flex flex-col"},[n("h2",{staticClass:"\n        w-full\n        font-header\n        text-white text-2xl\n        px-6\n        pl-4\n        py-4\n        flex\n        items-center\n        justify-start\n      "},[e._v(" Chat de la partie ")]),n("div",{ref:"chatLog",staticClass:"overflow-y-auto pt-1 pb-0 flex-grow"},e._l(e.chatMessages,(function(t){return n("div",{key:t.time},[t.systemMessage?n("div",{staticClass:"text-sm"},[n("p",{staticClass:"p-3 py-2 text-gray-200 tracking-wider"},[n("i",{class:"fas fa-"+t.icon+" ml-1.5 mr-3"}),n("span",{domProps:{innerHTML:e._s(t.content)}})])]):n("div",{staticClass:"text-sm"},[n("p",{staticClass:"p-3 py-2 text-gray-200 tracking-wider flex items-start"},[n("strong",{class:"text-white flex-shrink-0 px-1.5 py-0.5 rounded-md truncate "+e.bgColor(t.sender.team)},[e._v(e._s(t.sender.name))]),n("span",{staticClass:"ml-3 mt-0.5 text-white break-words"},[e._v(e._s(t.content))])])])])})),0),n("div",{staticClass:"flex flex-nowrap items-center rounded-lg bg-main-200 m-3 p-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.chatMessage,expression:"chatMessage"}],ref:"chatMessageField",staticClass:"\n          border-0\n          py-2\n          px-3\n          text-white\n          w-full\n          focus:outline-none\n          bg-transparent\n        ",attrs:{type:"text",maxlength:"200",minlength:"1",placeholder:"Message"},domProps:{value:e.chatMessage},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage()},input:function(t){t.target.composing||(e.chatMessage=t.target.value)}}}),n("button",{staticClass:"\n          focus:outline-none\n          rounded-lg\n          bg-main-300\n          hover:bg-main-100\n          text-white text-xl\n          w-12\n          h-10\n          flex\n          items-center\n          justify-center\n          mr-0.5\n        ",attrs:{title:"Envoyer le message"},on:{click:function(t){return e.sendMessage()}}},[n("i",{staticClass:"fas fa-paper-plane"})])])])])},_e=[],je={name:"Chat",components:{PanelIcon:ee},data:function(){return{chatMessage:"",chatMessages:[]}},sockets:{chatMessage:function(e){this.chatMessages.push(e),this.scrollChat()}},methods:{scrollChat:function(){var e=this;this.$nextTick((function(){return e.$refs.chatLog.scrollTo({top:e.$refs.chatLog.scrollHeight,behavior:"smooth"})}))},sendMessage:function(){this.chatMessage.length>0&&this.chatMessage.length<=200?(this.$refs.chatMessageField.placeholder="Message",this.$socket.emit("chatMessage",{roomCode:this.room.code,sender:this.player,content:this.chatMessage}),this.chatMessage="",this.$refs.chatMessageField.focus(),this.scrollChat()):this.$refs.chatMessageField.placeholder="Le message ne peut pas être vide !"},toggleChatTab:function(){this.$emit("toggle-chat-tab")},setChatBadge:function(e){this.$emit("set-chat-badge",e)},bgColor:function(e){return"red"==e?"bg-team-red":"blue"==e?"bg-team-blue":"spectator"==e?"bg-team-spectator":void 0}},computed:{clickable:function(){return this.$vssWidth<1280?"cursor-pointer":""}},props:{room:{type:Object,required:!0},players:{type:Object,required:!0},showChatBadge:{type:Boolean,required:!0},isChatOpen:{type:Boolean,required:!0}},emits:["toggle-chat-tab","set-chat-badge"]},Be=je,Oe=(n("7fc9"),Object(u["a"])(Be,ke,_e,!1,null,null,null)),Pe=Oe.exports,$e={name:"Game",components:{Header:P,Footer:S,Players:se,MobileButtons:ue,GameBoard:Ce,Chat:Pe},data:function(){return{playersOpen:!1,playersBadge:!1,chatOpen:!1,chatBadge:!1}},created:function(){this.recalculateViewport(),window.addEventListener("resize",this.windowResized),document.addEventListener("backbutton",this.onBackButton)},destroyed:function(){window.removeEventListener("resize",this.windowResized),document.removeEventListener("backbutton",this.onBackButton)},methods:{recalculateViewport:function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))},windowResized:function(e){this.$vssWidth>1280&&(this.playersOpen=!1,this.chatOpen=!1),this.recalculateViewport()},onBackButton:function(){if(this.playersOpen||this.chatOpen)return this.playersOpen=!1,this.chatOpen=!1,!1;navigator.app.exitApp()},leaveRoom:function(){this.$emit("leave-room",{name:this.name,roomCode:this.room.code})},cardFlipped:function(e){this.$socket.emit("cardFlipped",{roomCode:this.room.code,player:this.player,card:e})},cardCountDisplay:function(e){return this.board===[]?"0 / 0":this.board.filter((function(t){return t.type===e&&t.flipped})).length+" / "+this.board.filter((function(t){return t.type===e})).length},openPlayersTab:function(){this.$vssWidth<1280&&(this.chatOpen=!1,this.playersOpen=!this.playersOpen,this.playersBadge=!1)},openChatTab:function(){this.$vssWidth<1280&&(this.playersOpen=!1,this.chatOpen=!this.chatOpen,this.chatBadge=!1)},setPlayersBadge:function(e){this.playersBadge=e},setChatBadge:function(e){this.chatBadge=e}},computed:{player:function(){var e=this;return this.room.players.find((function(t){return t.id==e.$socket.id}))},board:function(){var e;return null!==(e=this.room.board)&&void 0!==e?e:[]},tabHidden:function(){return this.$vssWidth<1280?"fixed tab h-screen-fixed top-0 "+(this.$vssWidth<640?"w-full":""):""},tabPlayersLogic:function(){if(this.playersOpen){if(this.$vssWidth<1280)return"left-0 z-60"}else{if(this.$vssWidth<640)return"left-tab-full";if(this.$vssWidth<1280)return"left-tab"}return""},tabChatLogic:function(){if(this.chatOpen){if(this.$vssWidth<1280)return"right-0 z-60"}else{if(this.$vssWidth<640)return"right-tab-full";if(this.$vssWidth<1280)return"right-tab"}return""}},props:{room:Object,name:String},emits:["leave-room"]},Te=$e,Re=(n("24de"),Object(u["a"])(Te,m,h,!1,null,"2a99d562",null)),Me=Re.exports,Ee={name:"App",components:{Lobby:p,Game:Me},data:function(){return{room:{code:null},name:""}},sockets:{roomCreated:function(e){this.room=e},roomJoined:function(e){this.room=e},unknownCode:function(){console.log("Unknown room code")},tooManyPlayers:function(){console.log("Too many players")},alreadyInRoom:function(){console.log("Already in Room")},stateUpdate:function(e){this.room=e},gameFireworks:function(e){window.confetti({particleCount:100,spread:100,origin:{y:.7}})}},methods:{createRoom:function(e){this.$socket.emit("createRoom",e),this.name=e.name},joinRoom:function(e){this.$socket.emit("joinRoom",e),this.name=e.name},leaveRoom:function(e){this.$socket.emit("leaveRoom",e),this.room={code:null}}}},Se=Ee,Fe=(n("034f"),Object(u["a"])(Se,s,r,!1,null,null,null)),qe=Fe.exports,ze=n("5132"),Ne=n.n(ze),Le=n("8e27"),Ae=n.n(Le),We=n("ee53"),Ge=(n("683e"),n("0e07")),He=(n("15f5"),n("a766"),Ae()("https://fathomless-citadel-13208.herokuapp.com/"));a["a"].use(new Ne.a({debug:!0,connection:He})),a["a"].use(We["a"]),a["a"].use(Ge["a"]),a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(qe)}}).$mount("#app")},"58b1":function(e,t,n){"use strict";n("da51")},"74af":function(e,t,n){"use strict";n("fd44")},"7fc9":function(e,t,n){"use strict";n("2618")},a766:function(e,t,n){},da51:function(e,t,n){},f957:function(e,t,n){},fd44:function(e,t,n){}});
//# sourceMappingURL=app.a90c5f23.js.map